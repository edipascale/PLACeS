<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PLACeS: Topology Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLACeS
   </div>
   <div id="projectbrief">Peer-to-peer Locality Aware Content dElivery Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classTopology-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Topology Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A representation of the physical topology over which the data is transmitted.  
 <a href="classTopology.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3884bf8914fd7a0fba550de46717a080"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a3884bf8914fd7a0fba550de46717a080">Topology</a> (string <a class="el" href="classTopology.html#a0f1efec207d644b3874aeebb76eb5af0">fileName</a>, po::variables_map vm)</td></tr>
<tr class="memdesc:a3884bf8914fd7a0fba550de46717a080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds the topology from a topology file.  <a href="#a3884bf8914fd7a0fba550de46717a080">More...</a><br/></td></tr>
<tr class="separator:a3884bf8914fd7a0fba550de46717a080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8179e8e4b2023e2f218abcef1ceab49e"><td class="memItemLeft" align="right" valign="top">VertexVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a8179e8e4b2023e2f218abcef1ceab49e">getPonNodes</a> () const </td></tr>
<tr class="memdesc:a8179e8e4b2023e2f218abcef1ceab49e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all the vertices with customers attached to them.  <a href="#a8179e8e4b2023e2f218abcef1ceab49e">More...</a><br/></td></tr>
<tr class="separator:a8179e8e4b2023e2f218abcef1ceab49e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91e690ea0b4716ef9e26fa03d06fad3"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ae91e690ea0b4716ef9e26fa03d06fad3">getDistance</a> (uint source, uint dest) const </td></tr>
<tr class="memdesc:ae91e690ea0b4716ef9e26fa03d06fad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the hop-distance between two vertices.  <a href="#ae91e690ea0b4716ef9e26fa03d06fad3">More...</a><br/></td></tr>
<tr class="separator:ae91e690ea0b4716ef9e26fa03d06fad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64829f6904ff3f6e74bb75bb0cf8588c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Edge &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a64829f6904ff3f6e74bb75bb0cf8588c">getRoute</a> (uint source, uint dest) const </td></tr>
<tr class="memdesc:a64829f6904ff3f6e74bb75bb0cf8588c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the shortest path between a source and a destination Vertex.  <a href="#a64829f6904ff3f6e74bb75bb0cf8588c">More...</a><br/></td></tr>
<tr class="separator:a64829f6904ff3f6e74bb75bb0cf8588c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd892059223c646d46042e278977730"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Edge &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a5bd892059223c646d46042e278977730">getRoute</a> (PonUser source, PonUser destination) const </td></tr>
<tr class="memdesc:a5bd892059223c646d46042e278977730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the shortest path between a source and a destination user.  <a href="#a5bd892059223c646d46042e278977730">More...</a><br/></td></tr>
<tr class="separator:a5bd892059223c646d46042e278977730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d08792b6411e513826fb6c8a6fc74e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a99d08792b6411e513826fb6c8a6fc74e">updateCapacity</a> (<a class="el" href="classFlow.html">Flow</a> *flow, <a class="el" href="classScheduler.html">Scheduler</a> *scheduler, bool addNotRemove)</td></tr>
<tr class="memdesc:a99d08792b6411e513826fb6c8a6fc74e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the available capacity over the edges of the topology after the addition or removal of a data <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a>.  <a href="#a99d08792b6411e513826fb6c8a6fc74e">More...</a><br/></td></tr>
<tr class="separator:a99d08792b6411e513826fb6c8a6fc74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea7d37a1202668677df1631b4f7c1c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a0ea7d37a1202668677df1631b4f7c1c7">printNetworkStats</a> (uint currentRound, uint roundDuration)</td></tr>
<tr class="memdesc:a0ea7d37a1202668677df1631b4f7c1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the traffic statistics for the round that just ended, stores them in the <a class="el" href="structNetworkStats.html" title="A struct used to keep track of a number of statistics on traffic observed during the simulations...">NetworkStats</a> structures, and prints them to screen.  <a href="#a0ea7d37a1202668677df1631b4f7c1c7">More...</a><br/></td></tr>
<tr class="separator:a0ea7d37a1202668677df1631b4f7c1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efffbe986000e5611068f4f0e298cc5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4efffbe986000e5611068f4f0e298cc5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a4efffbe986000e5611068f4f0e298cc5">resetFlows</a> ()</td></tr>
<tr class="memdesc:a4efffbe986000e5611068f4f0e298cc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all the Flows from the network edges, restoring their capacity to their original maximum. <br/></td></tr>
<tr class="separator:a4efffbe986000e5611068f4f0e298cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8a2a422b5083a17776b2d849b5fa13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a8a8a2a422b5083a17776b2d849b5fa13">updateLoadMap</a> (<a class="el" href="classFlow.html">Flow</a> *flow)</td></tr>
<tr class="memdesc:a8a8a2a422b5083a17776b2d849b5fa13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the LoadMap by adding the data transmitted through the specified <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> to each of the Edges composing its route.  <a href="#a8a8a2a422b5083a17776b2d849b5fa13">More...</a><br/></td></tr>
<tr class="separator:a8a8a2a422b5083a17776b2d849b5fa13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525d3f8da7e70b821e132dbd714e3a44"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a525d3f8da7e70b821e132dbd714e3a44"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a525d3f8da7e70b821e132dbd714e3a44">resetLoadMap</a> ()</td></tr>
<tr class="memdesc:a525d3f8da7e70b821e132dbd714e3a44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the content of LoadMap, setting the total transferred Mb for each Edge in the topology to 0. <br/></td></tr>
<tr class="separator:a525d3f8da7e70b821e132dbd714e3a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10c5ba4af40163348a4a2b125eb83e9"><td class="memItemLeft" align="right" valign="top">Vertex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ad10c5ba4af40163348a4a2b125eb83e9">getCentralServer</a> () const </td></tr>
<tr class="memdesc:ad10c5ba4af40163348a4a2b125eb83e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the Vertex where the central repository is located.  <a href="#ad10c5ba4af40163348a4a2b125eb83e9">More...</a><br/></td></tr>
<tr class="separator:ad10c5ba4af40163348a4a2b125eb83e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a1f4b8b3a697ad9c3fb2619380e0c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#aa3a1f4b8b3a697ad9c3fb2619380e0c1">isLocal</a> (Vertex source, Vertex dest) const </td></tr>
<tr class="memdesc:aa3a1f4b8b3a697ad9c3fb2619380e0c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> between source and dest would be local, i.e., if it could be completed without leaving the Access Section (AS) of the destination.  <a href="#aa3a1f4b8b3a697ad9c3fb2619380e0c1">More...</a><br/></td></tr>
<tr class="separator:aa3a1f4b8b3a697ad9c3fb2619380e0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac35f7748717313e7b29f0a202e65cb"><td class="memItemLeft" align="right" valign="top">Vertex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a1ac35f7748717313e7b29f0a202e65cb">getLocalCache</a> (Vertex node) const </td></tr>
<tr class="memdesc:a1ac35f7748717313e7b29f0a202e65cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the Vertex hosting the local CDN cache for the AS of the specified node.  <a href="#a1ac35f7748717313e7b29f0a202e65cb">More...</a><br/></td></tr>
<tr class="separator:a1ac35f7748717313e7b29f0a202e65cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeacb0e79f11615515100532e5e07ef42"><td class="memItemLeft" align="right" valign="top">VertexVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#aeacb0e79f11615515100532e5e07ef42">getLocalCacheNodes</a> () const </td></tr>
<tr class="memdesc:aeacb0e79f11615515100532e5e07ef42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a vector with all the Vertices hosting local CDN caches for some AS.  <a href="#aeacb0e79f11615515100532e5e07ef42">More...</a><br/></td></tr>
<tr class="separator:aeacb0e79f11615515100532e5e07ef42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5ddfd35dd79837bedc8133ad1cf35b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a5f5ddfd35dd79837bedc8133ad1cf35b">isCongested</a> (PonUser source, PonUser destination) const </td></tr>
<tr class="memdesc:a5f5ddfd35dd79837bedc8133ad1cf35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether there is enough spare capacity in the network to serve a request from source to destination.  <a href="#a5f5ddfd35dd79837bedc8133ad1cf35b">More...</a><br/></td></tr>
<tr class="separator:a5f5ddfd35dd79837bedc8133ad1cf35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8885b8867f8aa417b335d57ba1d776"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a1b8885b8867f8aa417b335d57ba1d776">addEdge</a> (Vertex src, Vertex dest, Capacity cap, EdgeType type)</td></tr>
<tr class="memdesc:a1b8885b8867f8aa417b335d57ba1d776"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new uni-directional Edge between two Vertices.  <a href="#a1b8885b8867f8aa417b335d57ba1d776">More...</a><br/></td></tr>
<tr class="separator:a1b8885b8867f8aa417b335d57ba1d776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802945467c19b369cdfbc83e02644ca4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a802945467c19b369cdfbc83e02644ca4">printTopology</a> (SimTime time, uint round)</td></tr>
<tr class="memdesc:a802945467c19b369cdfbc83e02644ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a graphml snapshot of the current topology, including the available capacity on metro/core edges.  <a href="#a802945467c19b369cdfbc83e02644ca4">More...</a><br/></td></tr>
<tr class="separator:a802945467c19b369cdfbc83e02644ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016799a3fcab0fb994dfe0230b01b072"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a016799a3fcab0fb994dfe0230b01b072">getAsid</a> (PonUser node) const </td></tr>
<tr class="memdesc:a016799a3fcab0fb994dfe0230b01b072"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the index of the Access Section (AS) to which the specified user belongs.  <a href="#a016799a3fcab0fb994dfe0230b01b072">More...</a><br/></td></tr>
<tr class="separator:a016799a3fcab0fb994dfe0230b01b072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03b8a795a34ba4412fb76790c3b9c7d"><td class="memItemLeft" align="right" valign="top">EdgeType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ab03b8a795a34ba4412fb76790c3b9c7d">getEdgeType</a> (Edge e) const </td></tr>
<tr class="memdesc:ab03b8a795a34ba4412fb76790c3b9c7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of the specified Edge, i.e., whether it is a core, metro, or access edge.  <a href="#ab03b8a795a34ba4412fb76790c3b9c7d">More...</a><br/></td></tr>
<tr class="separator:ab03b8a795a34ba4412fb76790c3b9c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff4f5509191b44896c10587fb76a3cd"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a0ff4f5509191b44896c10587fb76a3cd">getPonCustomers</a> (Vertex v) const </td></tr>
<tr class="memdesc:a0ff4f5509191b44896c10587fb76a3cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of customers attached to the specified Vertex.  <a href="#a0ff4f5509191b44896c10587fb76a3cd">More...</a><br/></td></tr>
<tr class="separator:a0ff4f5509191b44896c10587fb76a3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0264cd91148b1b76ef4b564e12cece1a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0264cd91148b1b76ef4b564e12cece1a"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>getFileName</b> () const </td></tr>
<tr class="separator:a0264cd91148b1b76ef4b564e12cece1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab115fade0dbb116fc3c4e91c2005a504"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ab115fade0dbb116fc3c4e91c2005a504">getNumCustomers</a> () const </td></tr>
<tr class="memdesc:ab115fade0dbb116fc3c4e91c2005a504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of customers (or end-users) present in the network.  <a href="#ab115fade0dbb116fc3c4e91c2005a504">More...</a><br/></td></tr>
<tr class="separator:ab115fade0dbb116fc3c4e91c2005a504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1796b158bbf738563fa0bcdde4fcddd"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ae1796b158bbf738563fa0bcdde4fcddd">getNumASes</a> () const </td></tr>
<tr class="memdesc:ae1796b158bbf738563fa0bcdde4fcddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of Access Sections (ASes) present in the network.  <a href="#ae1796b158bbf738563fa0bcdde4fcddd">More...</a><br/></td></tr>
<tr class="separator:ae1796b158bbf738563fa0bcdde4fcddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606c187d3fbe4814029d0e121a3e2dbc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a606c187d3fbe4814029d0e121a3e2dbc"></a>
<a class="el" href="structNetworkStats.html">NetworkStats</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getNetworkStats</b> () const </td></tr>
<tr class="separator:a606c187d3fbe4814029d0e121a3e2dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5599713f346709e1d76371f06fbb0f"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a6d5599713f346709e1d76371f06fbb0f">getASCustomers</a> (uint asid) const </td></tr>
<tr class="memdesc:a6d5599713f346709e1d76371f06fbb0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of customers for a given Access Section (AS).  <a href="#a6d5599713f346709e1d76371f06fbb0f">More...</a><br/></td></tr>
<tr class="separator:a6d5599713f346709e1d76371f06fbb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0f57285ff08e4ed1429c23e36b4877e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a0f57285ff08e4ed1429c23e36b4877e1">updateRouteCapacity</a> (std::vector&lt; Edge &gt; route, Capacity toAdd)</td></tr>
<tr class="memdesc:a0f57285ff08e4ed1429c23e36b4877e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iteratively adjusts the available bandwidth at each of the edges that compose the specified route.  <a href="#a0f57285ff08e4ed1429c23e36b4877e1">More...</a><br/></td></tr>
<tr class="separator:a0f57285ff08e4ed1429c23e36b4877e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab261aec7300a8f34dff3791e2da82dc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ab261aec7300a8f34dff3791e2da82dc0">updateEta</a> (<a class="el" href="classFlow.html">Flow</a> *flow, <a class="el" href="classScheduler.html">Scheduler</a> *scheduler)</td></tr>
<tr class="memdesc:ab261aec7300a8f34dff3791e2da82dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the ETA of a <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> after a bandwidth assignment change.  <a href="#ab261aec7300a8f34dff3791e2da82dc0">More...</a><br/></td></tr>
<tr class="separator:ab261aec7300a8f34dff3791e2da82dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a487ddb877ce5617de8389496446a2884"><td class="memItemLeft" align="right" valign="top">DGraph&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a487ddb877ce5617de8389496446a2884">topology</a></td></tr>
<tr class="memdesc:a487ddb877ce5617de8389496446a2884"><td class="mdescLeft">&#160;</td><td class="mdescRight">The graph representation of the topology.  <a href="#a487ddb877ce5617de8389496446a2884">More...</a><br/></td></tr>
<tr class="separator:a487ddb877ce5617de8389496446a2884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717218351185ec46b065187f7b69d8e2"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a717218351185ec46b065187f7b69d8e2">numVertices</a></td></tr>
<tr class="memdesc:a717218351185ec46b065187f7b69d8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of vertices in the topology.  <a href="#a717218351185ec46b065187f7b69d8e2">More...</a><br/></td></tr>
<tr class="separator:a717218351185ec46b065187f7b69d8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b816a42968b808fd2820e8f2570ed46"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a5b816a42968b808fd2820e8f2570ed46">numEdges</a></td></tr>
<tr class="memdesc:a5b816a42968b808fd2820e8f2570ed46"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of edges in the topology.  <a href="#a5b816a42968b808fd2820e8f2570ed46">More...</a><br/></td></tr>
<tr class="separator:a5b816a42968b808fd2820e8f2570ed46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434ae8b7ca68e7a23bb33069278a974f"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a434ae8b7ca68e7a23bb33069278a974f">numMetroEdges</a></td></tr>
<tr class="memdesc:a434ae8b7ca68e7a23bb33069278a974f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of metro edges in the topology.  <a href="#a434ae8b7ca68e7a23bb33069278a974f">More...</a><br/></td></tr>
<tr class="separator:a434ae8b7ca68e7a23bb33069278a974f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03707282e6ca6e67b227dde4e8a4e489"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a03707282e6ca6e67b227dde4e8a4e489">numCoreEdges</a></td></tr>
<tr class="memdesc:a03707282e6ca6e67b227dde4e8a4e489"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of core edges in the topology.  <a href="#a03707282e6ca6e67b227dde4e8a4e489">More...</a><br/></td></tr>
<tr class="separator:a03707282e6ca6e67b227dde4e8a4e489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72abb5996d9e48098ea00ea802333c4c"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a72abb5996d9e48098ea00ea802333c4c">numCustomers</a></td></tr>
<tr class="memdesc:a72abb5996d9e48098ea00ea802333c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of custoemrs (i.e., end-users) in the topology.  <a href="#a72abb5996d9e48098ea00ea802333c4c">More...</a><br/></td></tr>
<tr class="separator:a72abb5996d9e48098ea00ea802333c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102113947e389ee6b7447a64be37ca1c"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a102113947e389ee6b7447a64be37ca1c">numASes</a></td></tr>
<tr class="memdesc:a102113947e389ee6b7447a64be37ca1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of Access Sections (ASes) in the topology.  <a href="#a102113947e389ee6b7447a64be37ca1c">More...</a><br/></td></tr>
<tr class="separator:a102113947e389ee6b7447a64be37ca1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678947db0684a9a5c5fb64f160d52851"><td class="memItemLeft" align="right" valign="top">DistanceMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a678947db0684a9a5c5fb64f160d52851">dMap</a></td></tr>
<tr class="memdesc:a678947db0684a9a5c5fb64f160d52851"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map keeping track of the distance between vertices, used for routing purposes.  <a href="#a678947db0684a9a5c5fb64f160d52851">More...</a><br/></td></tr>
<tr class="separator:a678947db0684a9a5c5fb64f160d52851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c28286b98285a74d8d9429d07f586f7"><td class="memItemLeft" align="right" valign="top">PredecessorMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a6c28286b98285a74d8d9429d07f586f7">pMap</a></td></tr>
<tr class="memdesc:a6c28286b98285a74d8d9429d07f586f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map of predecessors in the pre-computed shourtest path routes, used for routing purposes.  <a href="#a6c28286b98285a74d8d9429d07f586f7">More...</a><br/></td></tr>
<tr class="separator:a6c28286b98285a74d8d9429d07f586f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632034f2caae45f62b1e28736586c754"><td class="memItemLeft" align="right" valign="top">Vertex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a632034f2caae45f62b1e28736586c754">centralServer</a></td></tr>
<tr class="memdesc:a632034f2caae45f62b1e28736586c754"><td class="mdescLeft">&#160;</td><td class="mdescRight">The core network vertex where we are placing the central repository, i.e., the source of all <a class="el" href="classContentElement.html" title="A ContentElement is a video from the multimedia catalog, e.g., a movie, TV show etc. ">ContentElement</a> when they are first introduced in the catalog or when there is no other source available.  <a href="#a632034f2caae45f62b1e28736586c754">More...</a><br/></td></tr>
<tr class="separator:a632034f2caae45f62b1e28736586c754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ed68b08201ad6e2961c963c0444701"><td class="memItemLeft" align="right" valign="top">VertexMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ac3ed68b08201ad6e2961c963c0444701">asCacheMap</a></td></tr>
<tr class="memdesc:ac3ed68b08201ad6e2961c963c0444701"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map matching each AS identifier with the vertex where the CDN server is located.  <a href="#ac3ed68b08201ad6e2961c963c0444701">More...</a><br/></td></tr>
<tr class="separator:ac3ed68b08201ad6e2961c963c0444701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46551e6132f89304734a67d92150d2e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structNetworkStats.html">NetworkStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a46551e6132f89304734a67d92150d2e9">stats</a></td></tr>
<tr class="memdesc:a46551e6132f89304734a67d92150d2e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A collection of statistic measurements of the traffic circulating over this topology.  <a href="#a46551e6132f89304734a67d92150d2e9">More...</a><br/></td></tr>
<tr class="separator:a46551e6132f89304734a67d92150d2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44cbde47b85482154cbd3472929b52e"><td class="memItemLeft" align="right" valign="top">VertexVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#af44cbde47b85482154cbd3472929b52e">ponNodes</a></td></tr>
<tr class="memdesc:af44cbde47b85482154cbd3472929b52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector of all the graph vertices with a non-zero number of <a class="el" href="structNetworkNode.html#a55e62988a5ff7417cee782719cb715d0" title="number of customers attached to this PON node. ">NetworkNode::ponCustomers</a> attached to them.  <a href="#af44cbde47b85482154cbd3472929b52e">More...</a><br/></td></tr>
<tr class="separator:af44cbde47b85482154cbd3472929b52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1efec207d644b3874aeebb76eb5af0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a0f1efec207d644b3874aeebb76eb5af0">fileName</a></td></tr>
<tr class="memdesc:a0f1efec207d644b3874aeebb76eb5af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the input file used to generate the topology.  <a href="#a0f1efec207d644b3874aeebb76eb5af0">More...</a><br/></td></tr>
<tr class="separator:a0f1efec207d644b3874aeebb76eb5af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3591da10405f4f714cf6a441b3d9ff1"><td class="memItemLeft" align="right" valign="top">LoadMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#ac3591da10405f4f714cf6a441b3d9ff1">loadMap</a></td></tr>
<tr class="memdesc:ac3591da10405f4f714cf6a441b3d9ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Map associating to each edge the total traffic it has observed.  <a href="#ac3591da10405f4f714cf6a441b3d9ff1">More...</a><br/></td></tr>
<tr class="separator:ac3591da10405f4f714cf6a441b3d9ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c98ca5e4aa731c0d6e37a8719a6cfc"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a54c98ca5e4aa731c0d6e37a8719a6cfc">bitrate</a></td></tr>
<tr class="memdesc:a54c98ca5e4aa731c0d6e37a8719a6cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">While not technically a topology parameter, the bitrate of the encoded content is required both in updateCapacity to estimate the time at which users will change channel (and thus to set the userViewEta) and to figure out if there's enough capacity to serve a new customer.  <a href="#a54c98ca5e4aa731c0d6e37a8719a6cfc">More...</a><br/></td></tr>
<tr class="separator:a54c98ca5e4aa731c0d6e37a8719a6cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8697a3c21bc0b322eff32e9f44d2da68"><td class="memItemLeft" align="right" valign="top">Capacity&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a8697a3c21bc0b322eff32e9f44d2da68">minFlowIncrease</a></td></tr>
<tr class="memdesc:a8697a3c21bc0b322eff32e9f44d2da68"><td class="mdescLeft">&#160;</td><td class="mdescRight">minFlowIncrease is used in updateCapacity when adding bandwidth to a flow due to the removal of some completed flow; if the increase is below this threshold, no update is performed (to reduce unnecessary small changes and speed up simulations).  <a href="#a8697a3c21bc0b322eff32e9f44d2da68">More...</a><br/></td></tr>
<tr class="separator:a8697a3c21bc0b322eff32e9f44d2da68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23313264f1390e707a0329d6e22c5b82"><td class="memItemLeft" align="right" valign="top">boost::dynamic_properties&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a23313264f1390e707a0329d6e22c5b82">snapDp</a></td></tr>
<tr class="memdesc:a23313264f1390e707a0329d6e22c5b82"><td class="mdescLeft">&#160;</td><td class="mdescRight">dynamic_properties are used to take snapshots of the network in <a class="el" href="classTopology.html#a802945467c19b369cdfbc83e02644ca4" title="Prints a graphml snapshot of the current topology, including the available capacity on metro/core edg...">Topology::printTopology()</a>, e.g., write a graphml file with all the network metrics.  <a href="#a23313264f1390e707a0329d6e22c5b82">More...</a><br/></td></tr>
<tr class="separator:a23313264f1390e707a0329d6e22c5b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a7c2e61f20c351a92cf0505a04ee83"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint, uint &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTopology.html#a62a7c2e61f20c351a92cf0505a04ee83">ASCustomersMap</a></td></tr>
<tr class="memdesc:a62a7c2e61f20c351a92cf0505a04ee83"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map that keeps track of how many peers are present in each AS.  <a href="#a62a7c2e61f20c351a92cf0505a04ee83">More...</a><br/></td></tr>
<tr class="separator:a62a7c2e61f20c351a92cf0505a04ee83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A representation of the physical topology over which the data is transmitted. </p>
<p>It is based on the Boost Graph library, specifically on the Adjacency_List. Bundled properties are used to store information of interests for edges and links. Routing, bandwidth assignment and traffic statistic collection are all performed by this class. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00099">99</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3884bf8914fd7a0fba550de46717a080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Topology::Topology </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">po::variables_map&#160;</td>
          <td class="paramname"><em>vm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds the topology from a topology file. </p>
<p>The recommended option is to specify a graphml topology file (which MUST have a .graphml extension). Look at some of the default graphml topologies in the Topologies folder for examples of the properties recognized by the simulator. Comments inside the constructor's code itself can also be useful in this regard.</p>
<p>Alternatively, the topology can be specified using a text file with the following conventions (no quotes, #something means number of elements of type something, arguments in brackets are optional): The first line must be "#CoreNodes #CoreEdges". #CoreEdges is assumed to be the number of undirected core edges, there will actually be 2*#CoreEdges in the graph (see below). Then #CoreNodes lines should follow with the format: "asid #PONNodes AvgPONCustomers DevPONCustomers downstreamCapacity upstreamCapacity (cs)" asid is the identifier of the metro/core node and its relative Access Segment; it is currently ignored and assumed to be a progressive integer starting from 0. #PONNodes is the number of PONs attached to that metro/core node; AvgPONCustomers is the mean value of a gaussian distribution describing the number of customers attached to each of this node's PONs; DevPONCustomers is the standard deviation of the above mentioned distribution; downstreamCapacity and upstreamCapacity are the capacities in Mbps of each PON; cs (optional) indicates that this metro/core node hosts the central repository server. After this, #CoreEdges lines should follow, each defining an edge between two metro/core nodes, in the following format: "sourceId destId capacity capacityRev" The two capacities are used to define respectively the capacities of the sourceId-&gt;destId edge and the destId-&gt;sourceId edge (to account for asymmetric links); if negative, it is assumed to be infinite. The graph is directed but for each pair of vertices, sourceId and destId, two links (one per direction) are created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>the name of the file from which the topology should be generated. </td></tr>
    <tr><td class="paramname">vm</td><td>the set of simulation parameters specified at command line by the user. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00038">38</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1b8885b8867f8aa417b335d57ba1d776"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Topology::addEdge </td>
          <td>(</td>
          <td class="paramtype">Vertex&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vertex&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Capacity&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EdgeType&#160;</td>
          <td class="paramname"><em>type</em> = <code>CORE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new uni-directional Edge between two Vertices. </p>
<p>Utility method that is not currently used in the simulator. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The origin Vertex of the new Edge. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination Vertex of the new Edge. </td></tr>
    <tr><td class="paramname">cap</td><td>The maximum capacity available on the new Edge. If negative, it is assumed to be UNLIMITED. </td></tr>
    <tr><td class="paramname">type</td><td>The EdgeType of the new Edge. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the new Edge was successfully added, false otherwise. </dd></dl>
</dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00018">18</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6d5599713f346709e1d76371f06fbb0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::getASCustomers </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>asid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the number of customers for a given Access Section (AS). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">asid</td><td>The identifier of the AS we want to know the number of customers of. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00364">364</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a016799a3fcab0fb994dfe0230b01b072"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::getAsid </td>
          <td>(</td>
          <td class="paramtype">PonUser&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the index of the Access Section (AS) to which the specified user belongs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The user we want to know the AS of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the AS of the specified user. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00320">320</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad10c5ba4af40163348a4a2b125eb83e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Vertex Topology::getCentralServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the Vertex where the central repository is located. </p>
<dl class="section return"><dt>Returns</dt><dd>The Vertex where the central repository is located. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00385">385</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae91e690ea0b4716ef9e26fa03d06fad3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::getDistance </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the hop-distance between two vertices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The source vertex of the route. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination vertex of the route. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of hops required to go from source to dest over the shortest route. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00335">335</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab03b8a795a34ba4412fb76790c3b9c7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EdgeType Topology::getEdgeType </td>
          <td>(</td>
          <td class="paramtype">Edge&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the type of the specified Edge, i.e., whether it is a core, metro, or access edge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The Edge we want to know the type of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The EdgeType of the specified Edge. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>EdgeType </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00692">692</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1ac35f7748717313e7b29f0a202e65cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Vertex Topology::getLocalCache </td>
          <td>(</td>
          <td class="paramtype">Vertex&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the Vertex hosting the local CDN cache for the AS of the specified node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The Vertex for which we are seeking the local CDN. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Vertex hosting the local CDN cache for the AS of the specified node. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00664">664</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeacb0e79f11615515100532e5e07ef42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VertexVec Topology::getLocalCacheNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a vector with all the Vertices hosting local CDN caches for some AS. </p>
<dl class="section return"><dt>Returns</dt><dd>A vector with all the Vertices hosting local CDN caches for some AS. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00668">668</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae1796b158bbf738563fa0bcdde4fcddd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::getNumASes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total number of Access Sections (ASes) present in the network. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of ASes present in the network. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00352">352</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab115fade0dbb116fc3c4e91c2005a504"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::getNumCustomers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total number of customers (or end-users) present in the network. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of customers present in the network. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00345">345</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0ff4f5509191b44896c10587fb76a3cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::getPonCustomers </td>
          <td>(</td>
          <td class="paramtype">Vertex&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the number of customers attached to the specified Vertex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The Vertex we want to know the number of customers attached to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of cusotmers attached to the specified Vertex. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00331">331</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8179e8e4b2023e2f218abcef1ceab49e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VertexVec Topology::getPonNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves all the vertices with customers attached to them. </p>
<p>In other words, all the vertices with a non-zero value of <a class="el" href="structNetworkNode.html#a55e62988a5ff7417cee782719cb715d0" title="number of customers attached to this PON node. ">NetworkNode::ponCustomers</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>a vector of vertices with end-users attached to them. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00327">327</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a64829f6904ff3f6e74bb75bb0cf8588c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Edge&gt; Topology::getRoute </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the shortest path between a source and a destination Vertex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The source vertex of the route. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination vertex of the route. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of Edges that constitute the shortest route between source and dest. </dd></dl>

</div>
</div>
<a class="anchor" id="a5bd892059223c646d46042e278977730"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;Edge&gt; Topology::getRoute </td>
          <td>(</td>
          <td class="paramtype">PonUser&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PonUser&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the shortest path between a source and a destination user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The source user of the route. </td></tr>
    <tr><td class="paramname">destination</td><td>The destination user of the route. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of Edges that constitute the shortest route between source and destination. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00213">213</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5f5ddfd35dd79837bedc8133ad1cf35b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Topology::isCongested </td>
          <td>(</td>
          <td class="paramtype">PonUser&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PonUser&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether there is enough spare capacity in the network to serve a request from source to destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The proposed source for the item requested. </td></tr>
    <tr><td class="paramname">destination</td><td>The destination of the request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if there is enough bandwidth to at least transfer the item at its encoding bitrate, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00677">677</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa3a1f4b8b3a697ad9c3fb2619380e0c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Topology::isLocal </td>
          <td>(</td>
          <td class="paramtype">Vertex&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vertex&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether a <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> between source and dest would be local, i.e., if it could be completed without leaving the Access Section (AS) of the destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The proposed source for the <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a>. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination of the <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a>, i.e., the requester of the video item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the transfer between source and dest would be local, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00660">660</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0ea7d37a1202668677df1631b4f7c1c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Topology::printNetworkStats </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>currentRound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>roundDuration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the traffic statistics for the round that just ended, stores them in the <a class="el" href="structNetworkStats.html" title="A struct used to keep track of a number of statistics on traffic observed during the simulations...">NetworkStats</a> structures, and prints them to screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentRound</td><td>The simulation round that just ended. </td></tr>
    <tr><td class="paramname">roundDuration</td><td>The length in seconds of the simulation round that just ended. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00523">523</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a802945467c19b369cdfbc83e02644ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Topology::printTopology </td>
          <td>(</td>
          <td class="paramtype">SimTime&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>round</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a graphml snapshot of the current topology, including the available capacity on metro/core edges. </p>
<p>Useful to visualize the traffic generated by the model being used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The SimTime at which the snapshot is being taken. </td></tr>
    <tr><td class="paramname">round</td><td>The current round of simulation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00736">736</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a99d08792b6411e513826fb6c8a6fc74e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Topology::updateCapacity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFlow.html">Flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classScheduler.html">Scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>addNotRemove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the available capacity over the edges of the topology after the addition or removal of a data <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a>. </p>
<p>A centralized bandwidth sharing algorithm is implemented here. Each streaming flow transiting over a particular link is entitled to at least an equal share of the available capacity of that link. This process is repeated across each link of the flow's route to identify the tightest capacity constraint (i.e., the bottleneck), which determines the capacity assigned to the flow. This capacity is updated dynamically whenever a flow enters (respectively leaves) the network; however, only the bottleneck for the new (respectively leaving) flow is used to calculate the new capacity allocation. This is done to alleviate the time complexity of the bandwidth sharing algorithm, at the expense of some loss in terms of optimal resource allocation. No individual flow is allowed to receive more than MAX_FLOW_SPEED of bandwidth, in an attempt to model both network operators constraints on maximum available capacity per user and the limits imposed by TCP mechanisms (e.g., due to the congestion control mechanisms, as we do not simulate packet loss). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flow</td><td>The data flow that has been just added or removed. </td></tr>
    <tr><td class="paramname">scheduler</td><td>A pointer to the <a class="el" href="classScheduler.html" title="The Scheduler manages the event queue of the simulation; it is responsible for scheduling new events ...">Scheduler</a>, which will ensure that any change to the ETA of some <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> will be reflected in the ordering of the queued events. </td></tr>
    <tr><td class="paramname">addNotRemove</td><td>True if the flow is a new transfer being added, false if it is a completed flow that needs to be removed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00389">389</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab261aec7300a8f34dff3791e2da82dc0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Topology::updateEta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFlow.html">Flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classScheduler.html">Scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the ETA of a <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> after a bandwidth assignment change. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flow</td><td>The <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> whose bandwidth has just changed. </td></tr>
    <tr><td class="paramname">scheduler</td><td>A pointer to the <a class="el" href="classScheduler.html" title="The Scheduler manages the event queue of the simulation; it is responsible for scheduling new events ...">Scheduler</a>, which is needed to update the queue order in case of a change of ETA. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00713">713</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8a8a2a422b5083a17776b2d849b5fa13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Topology::updateLoadMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFlow.html">Flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the LoadMap by adding the data transmitted through the specified <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> to each of the Edges composing its route. </p>
<p>Invoked by the <a class="el" href="classTopologyOracle.html" title="Locality Oracle for the current Topology. ">TopologyOracle</a> once the <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> has completed its transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flow</td><td>The <a class="el" href="classFlow.html" title="Describes one data flow, either between peers or from a cache to the user. ">Flow</a> that has just completed its data transfer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00653">653</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0f57285ff08e4ed1429c23e36b4877e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Topology::updateRouteCapacity </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; Edge &gt;&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Capacity&#160;</td>
          <td class="paramname"><em>toAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Iteratively adjusts the available bandwidth at each of the edges that compose the specified route. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">route</td><td>The route we want to update the capacity of. </td></tr>
    <tr><td class="paramname">toAdd</td><td>The amount of bandwidth that needs to be added (or subtracted, if negative) to each of the edges of the specified route. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Topology_8cpp_source.html#l00696">696</a> of file <a class="el" href="Topology_8cpp_source.html">Topology.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac3ed68b08201ad6e2961c963c0444701"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VertexMap Topology::asCacheMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map matching each AS identifier with the vertex where the CDN server is located. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00111">111</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a62a7c2e61f20c351a92cf0505a04ee83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint, uint&gt; Topology::ASCustomersMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map that keeps track of how many peers are present in each AS. </p>
<p>This is needed when calculating content rates in the cache optimization problem. The map is populated in the constructor, when determining the number of users per PON. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00127">127</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a54c98ca5e4aa731c0d6e37a8719a6cfc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::bitrate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>While not technically a topology parameter, the bitrate of the encoded content is required both in updateCapacity to estimate the time at which users will change channel (and thus to set the userViewEta) and to figure out if there's enough capacity to serve a new customer. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00116">116</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a632034f2caae45f62b1e28736586c754"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Vertex Topology::centralServer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The core network vertex where we are placing the central repository, i.e., the source of all <a class="el" href="classContentElement.html" title="A ContentElement is a video from the multimedia catalog, e.g., a movie, TV show etc. ">ContentElement</a> when they are first introduced in the catalog or when there is no other source available. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00110">110</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a678947db0684a9a5c5fb64f160d52851"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DistanceMap Topology::dMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map keeping track of the distance between vertices, used for routing purposes. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00108">108</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0f1efec207d644b3874aeebb76eb5af0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Topology::fileName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the input file used to generate the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00114">114</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac3591da10405f4f714cf6a441b3d9ff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LoadMap Topology::loadMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A Map associating to each edge the total traffic it has observed. </p>
<p>Used to compute the traffic statistics at the end of each round. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00115">115</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8697a3c21bc0b322eff32e9f44d2da68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Capacity Topology::minFlowIncrease</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>minFlowIncrease is used in updateCapacity when adding bandwidth to a flow due to the removal of some completed flow; if the increase is below this threshold, no update is performed (to reduce unnecessary small changes and speed up simulations). </p>
<p>Note: this seems to hardly have any effect on simulation speed, and might be removed in the future.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00117">117</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a102113947e389ee6b7447a64be37ca1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::numASes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The total number of Access Sections (ASes) in the topology. </p>
<p>Typically each core (or metro/core) node has an associated AS. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00107">107</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a03707282e6ca6e67b227dde4e8a4e489"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::numCoreEdges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of core edges in the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00105">105</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a72abb5996d9e48098ea00ea802333c4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::numCustomers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The total number of custoemrs (i.e., end-users) in the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00106">106</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5b816a42968b808fd2820e8f2570ed46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::numEdges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The total number of edges in the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00103">103</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a434ae8b7ca68e7a23bb33069278a974f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::numMetroEdges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of metro edges in the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00104">104</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a717218351185ec46b065187f7b69d8e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Topology::numVertices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The total number of vertices in the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00102">102</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6c28286b98285a74d8d9429d07f586f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PredecessorMap Topology::pMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map of predecessors in the pre-computed shourtest path routes, used for routing purposes. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00109">109</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af44cbde47b85482154cbd3472929b52e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VertexVec Topology::ponNodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector of all the graph vertices with a non-zero number of <a class="el" href="structNetworkNode.html#a55e62988a5ff7417cee782719cb715d0" title="number of customers attached to this PON node. ">NetworkNode::ponCustomers</a> attached to them. </p>
<p>These vertices will have a single link connecting them to a metro or metro/core node, representing the shared fiber tree of a PON. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00113">113</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a23313264f1390e707a0329d6e22c5b82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::dynamic_properties Topology::snapDp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>dynamic_properties are used to take snapshots of the network in <a class="el" href="classTopology.html#a802945467c19b369cdfbc83e02644ca4" title="Prints a graphml snapshot of the current topology, including the available capacity on metro/core edg...">Topology::printTopology()</a>, e.g., write a graphml file with all the network metrics. </p>
<p>Generating this object every time in that method would be needlessly expensive, so it's populated in the constructor provided that snapshots are actually going to be taken (i.e., if sanpshotFreq &gt; 0). </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00122">122</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a46551e6132f89304734a67d92150d2e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structNetworkStats.html">NetworkStats</a> Topology::stats</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A collection of statistic measurements of the traffic circulating over this topology. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structNetworkStats.html" title="A struct used to keep track of a number of statistics on traffic observed during the simulations...">NetworkStats</a> </dd></dl>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00112">112</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a487ddb877ce5617de8389496446a2884"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DGraph Topology::topology</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The graph representation of the topology. </p>

<p>Definition at line <a class="el" href="Topology_8hpp_source.html#l00101">101</a> of file <a class="el" href="Topology_8hpp_source.html">Topology.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Topology_8hpp_source.html">Topology.hpp</a></li>
<li>src/<a class="el" href="Topology_8cpp_source.html">Topology.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 16 2015 15:11:53 for PLACeS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
